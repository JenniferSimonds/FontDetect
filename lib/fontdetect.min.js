var FontDetect=function(){var k=false;var l=['serif','sans-serif','monospace','cursive','fantasy'];var m=null;var n='en';var o={'en':'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ','fa':'ابپتجچحخدذرزسشصضططعغفقکگلمنوهی'};function _init(){if(k){return}k=true;var a=document.body;var b=document.body.firstChild;var c=document.createElement('div');c.id='fontdetectHelper';m=document.createElement('span');m.innerText=o[n];c.appendChild(m);a.insertBefore(c,b);c.style.position='absolute';c.style.visibility='hidden';c.style.top='-200px';c.style.left='-100000px';c.style.width='100000px';c.style.height='200px';c.style.fontSize='100px'}function _getCss(a,b){if(a instanceof Element){return window.getComputedStyle(a).getPropertyValue(b)}else if(window.jQuery){return $(a).css(b)}else{return''}}return{onFontLoaded:function(b,c,d,e){if(!b){return}var f=(e&&e.msInterval)?e.msInterval:100;var g=(e&&e.msTimeout)?e.msTimeout:2000;n=(e&&e.eLang&&e.eLang in o)?e.eLang:'en';if(!c&&!d){return}if(!k){_init()}if(this.isFontLoaded(b)){if(c){c(b)}return}var h=this;var i=new Date().getTime();var j=setInterval(function(){if(h.isFontLoaded(b)){clearInterval(j);c(b);return}else{var a=new Date().getTime();if((a-i)>g){clearInterval(j);if(d){d(b)}}}},f)},isFontLoaded:function(a){var b=0;var c=0;if(!k){_init()}for(var d=0;d<l.length;++d){m.style.fontFamily='"'+a+'",'+l[d];b=m.offsetWidth;if(d>0&&b!=c){return false}c=b}return true},whichFont:function(a){var b=_getCss(a,'font-family');var c=b.split(',');var d=c.shift();while(d){d=d.replace(/^\s*['"]?\s*([^'"]*)\s*['"]?\s*$/,'$1');for(var e=0;e<l.length;e++){if(d==l[e]){return d}}if(this.isFontLoaded(d)){return d}d=c.shift()}return null}}}();